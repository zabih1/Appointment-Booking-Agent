Please complete the code to enable real-time interaction between the user and the agent. The agent should initiate the conversation with a greeting and then proceed with a structured set of questions. It should ask for the user's name, the desired service, location, date and time, and email address. After collecting this information, the entire chat history should be included in the prompt, followed by executing the necessary steps to complete the booking process.